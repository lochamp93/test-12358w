<!DOCTYPE html>
<head>
  <title>lochamp | Subgoal</title>
  <meta charset="UTF-8" />
  <link rel="shortcut icon" href="#" />
  <link rel="stylesheet" href="./style.css" />
  <script type="text/javascript" src="https://unpkg.com/@streamerbot/client/dist/streamerbot-client.js"></script>
</head>
<body>
  <div id="statusContainer">Connexion...</div>

  <div id="mainContainer" class="slide-fade">
    <ul id="messageList"></ul>
    <ul id="IPutThisHereSoICanCalculateHowBigEachMessageIsSupposedToBeBeforeIAddItToTheMessageList"></ul>
  </div>

<!-- INSERT HTML HERE -->

  <div class="pill_bg">
    <div class="pill_main" data-state="subgoal" aria-live="polite" aria-atomic="true">
      
      <!-- ÉTAT 1 : SUBGOAL -->
      <section class="pill_subgoal" style="--value: 0.15">
        <!--
          LAYERS VISUELS (aucun style ici, tout se fait au CSS)
          - sg_layer-bg : pilule “fond” (dégradé bleu/violet)
          - sg_layer-pill : pilule + petite, centrée (dégradé identique)
          - sg_layer-white : pilule blanche + petite, même taille que la précédente
            > cette couche sera "découpée" par un masque de progression
        -->
        <div class="sg_layers" aria-hidden="false">
          <div class="sg_layer sg_layer-bg"></div>
          <div class="sg_layer sg_layer-pill"></div>

          <!-- Masque de progression (la largeur sera contrôlée plus tard) -->
          <div class="sg_progress-mask">
            <div class="sg_layer sg_layer-white"></div>
          </div>
        </div>
 
        <!-- 
          TEXTE (doublé pour gérer l’inversion de couleur)
          - sg_text-base : rendu “sur la zone colorée”
          - sg_text-white : rendu “sur la zone blanche”
          > Au CSS on empilera les deux blocs et on masquera/clippera chacun avec la zone correspondante
        -->
          <div class="sg_textbox" data-state="subgoal" aria-live="polite" aria-atomic="true">
            <div class="sg_text sg_text-base" aria-hidden="true">
              <span class="sg_icon" data-icon="mdi:heart">❤</span>
              <span class="sg_descr" data-field="current">SUB</span>
              <span class="sg_current" data-field="current">400</span>
              <span class="sg_sep">/</span>
              <span class="sg_target" data-field="target">800</span>
            </div>

            <div class="sg_text sg_text-white" aria-hidden="true">
              <span class="sg_icon" data-icon="mdi:heart">❤</span>
              <span class="sg_descr" data-field="current">SUB</span>
              <span class="sg_current" data-field="current">400</span>
              <span class="sg_sep">/</span>
              <span class="sg_target" data-field="target">800</span>
            </div>
          </div>

      <section class="pill_vibemeter" hidden>
        <div id="ratingBoxWrapper">
          <div id="ratingBoxBackground"></div>
          <div id="ratingBox">
            <span id="ratingLabel">0</span>
            <video id="ratingVideo" muted playsinline></video>
            <div id="loadingBarWrapper"><div id="loadingBar"></div></div>
          </div>
        </div>
      </section>


      <!-- ÉTAT 3 : SOCIALS (placeholder) -->
      <section class="pill_socials" hidden>
        <span class="pill_socials_qr_bg" aria-hidden="true"></span>
        <img class="pill_socials_qr" src="" alt="QR code vers le réseau social" />
        <span class="pill_socials_txt" data-field="handle">@anais_marion</span>
      </section>

    </div>
  </div>



<!-- Fin html perso -->
  <script src="./helpers.js"></script>
  <script src="./script.js"></script>
</body>
</html>
